from django.db import models
from django.urls import reverse
from django.utils.text import slugify
from django.contrib.auth.models import User
#from django.contrib.auth.models import User

class food(models.Model):
    name = models.CharField(max_length=100,default='')
    price = models.CharField(max_length=100,default='')
    count = models.CharField(max_length=100,default='1')
    image_url = models.CharField(max_length=10000,default='')

class category(models.Model):
    name = models.CharField(max_length=100000,default='')
    caption = models.CharField(max_length=100000,default='')
    food =  models.ManyToManyField(food)
class Menu(models.Model):
    menu = models.ManyToManyField(category)
class table(models.Model):
    #menu = models.ManyToManyField(food)
    name = models.CharField(max_length=100000,default='')
    #order =  models.ManyToManyField(food)
    #restaurant =  models.ForeignKey('restaurant',on_delete=models.CASCADE)
    menu = models.ManyToManyField(Menu)
    slug = models.SlugField(null=True , unique=True) # new
        
    '''
    def get_absolute_url(self):
        return reverse('article_detail', kwargs={'slug': self.slug})
    '''
class restaurant(models.Model):
    #data:image/jpeg;base64,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
    #menu = models.ManyToManyField(food)
    username =  models.ForeignKey(User, on_delete=models.CASCADE, default='')
    location = models.CharField(max_length=100,default='')
    city = models.CharField(max_length=100,default='')
    image_of_restaurant = models.CharField(max_length=10000,default='')
    orders = models.ManyToManyField('order2')
    menu = models.ManyToManyField(Menu)
    #ownert = models.ForeignKey('auth.User', on_delete=models.CASCADE, default='')
    
class order(models.Model):
    #name = models.CharField(max_length=100,default='')
    #table = models.ForeignKey(table,on_delete=models.CASCADE)
    food =  models.CharField(max_length=100,default='')
class order2(models.Model):
    #name = models.CharField(max_length=100,default='')
    table = models.CharField(max_length=100,default='')
    owner = models.CharField(max_length=10000,default='')
    food =  models.CharField(max_length=10000,default='')
    restaurantx  =  models.CharField(max_length=100,default='')
    time = models.CharField(max_length=100,default='')
    totalprice = models.CharField(max_length=100,default='')
    ordertype = models.CharField(max_length=100,default='')
    ordername = models.CharField(max_length=100,primary_key=True,default='')
    ordertrak = models.CharField(max_length=100,default='')
    ordertime = models.CharField(max_length=100,default='')
class Vcart(models.Model):
    #name = models.CharField(max_length=100,default='')
    count = models.CharField(max_length=100,default='1')
    food =  models.CharField(max_length=10000,default='1')
